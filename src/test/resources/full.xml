<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:pro="http://www.liquibase.org/xml/ns/pro" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/pro http://www.liquibase.org/xml/ns/pro/liquibase-pro-3.8.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd">
    <changeSet author="gocd(generated)" id="1589178032877-1">
        <createTable tableName="ACCESSTOKEN">
            <column autoIncrement="true" name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_43"/>
            </column>
            <column name="VALUE" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="SALTID" type="VARCHAR(8)">
                <constraints nullable="false"/>
            </column>
            <column name="SALTVALUE" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="DESCRIPTION" type="CLOB">
                <constraints nullable="false"/>
            </column>
            <column name="REVOKED" type="BOOLEAN"/>
            <column name="REVOKEDAT" type="TIMESTAMP"/>
            <column name="CREATEDAT" type="TIMESTAMP"/>
            <column name="LASTUSED" type="TIMESTAMP"/>
            <column name="USERNAME" type="VARCHAR_IGNORECASE(255)">
                <constraints nullable="false"/>
            </column>
            <column name="AUTHCONFIGID" type="VARCHAR_IGNORECASE(255)">
                <constraints nullable="false"/>
            </column>
            <column name="REVOKECAUSE" type="CLOB"/>
            <column name="REVOKEDBY" type="VARCHAR(255)"/>
            <column defaultValueBoolean="false" name="DELETEDBECAUSEUSERDELETED" type="BOOLEAN"/>
        </createTable>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-2">
        <createTable tableName="AGENTS">
            <column autoIncrement="true" name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_72"/>
            </column>
            <column name="UUID" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="COOKIE" type="VARCHAR(40)">
                <constraints nullable="false"/>
            </column>
            <column name="HOSTNAME" type="VARCHAR(255)"/>
            <column name="IPADDRESS" type="VARCHAR(50)"/>
            <column name="ELASTICAGENTID" type="VARCHAR(2048)"/>
            <column name="ELASTICPLUGINID" type="VARCHAR(2048)"/>
            <column defaultValueBoolean="true" name="DISABLED" type="BOOLEAN"/>
            <column name="ENVIRONMENTS" type="CLOB"/>
            <column name="RESOURCES" type="CLOB"/>
            <column defaultValueBoolean="true" name="DELETED" type="BOOLEAN"/>
        </createTable>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-3">
        <createTable tableName="ARTIFACTPLANS">
            <column autoIncrement="true" name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_E1"/>
            </column>
            <column name="BUILDID" type="BIGINT"/>
            <column name="SRC" type="VARCHAR(255)"/>
            <column name="DEST" type="VARCHAR(255)"/>
            <column name="ARTIFACTTYPE" type="VARCHAR(255)"/>
            <column name="PLUGGABLEARTIFACTCONFIGJSON" type="CLOB"/>
        </createTable>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-4">
        <createTable tableName="BUILDS">
            <column autoIncrement="true" name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_7"/>
            </column>
            <column name="NAME" type="VARCHAR_IGNORECASE(255)"/>
            <column name="STATE" type="VARCHAR(50)"/>
            <column name="RESULT" type="VARCHAR(50)"/>
            <column name="AGENTUUID" type="VARCHAR(255)"/>
            <column name="SCHEDULEDDATE" type="TIMESTAMP"/>
            <column name="STAGEID" type="BIGINT"/>
            <column defaultValueBoolean="false" name="IGNORED" type="BOOLEAN"/>
            <column defaultValueBoolean="false" name="RUNONALLAGENTS" type="BOOLEAN"/>
            <column name="ORIGINALJOBID" type="BIGINT"/>
            <column defaultValueBoolean="false" name="RERUN" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column defaultValueBoolean="false" name="RUNMULTIPLEINSTANCE" type="BOOLEAN"/>
        </createTable>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-5">
        <createTable tableName="BUILDSTATETRANSITIONS">
            <column autoIncrement="true" name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_F2"/>
            </column>
            <column name="CURRENTSTATE" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="STATECHANGETIME" type="TIMESTAMP">
                <constraints nullable="false"/>
            </column>
            <column name="BUILDID" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="STAGEID" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-6">
        <createTable tableName="CHANGELOG">
            <column name="CHANGE_NUMBER" type="INT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="PKCHANGELOG"/>
            </column>
            <column name="DELTA_SET" type="VARCHAR(10)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="PKCHANGELOG"/>
            </column>
            <column name="START_DT" type="TIMESTAMP">
                <constraints nullable="false"/>
            </column>
            <column name="COMPLETE_DT" type="TIMESTAMP"/>
            <column name="APPLIED_BY" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="DESCRIPTION" type="VARCHAR(500)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-7">
        <createTable tableName="DATASHARINGSETTINGS">
            <column autoIncrement="true" name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_7D"/>
            </column>
            <column name="ALLOWSHARING" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column name="UPDATEDBY" type="VARCHAR(255)"/>
            <column name="UPDATEDON" type="TIMESTAMP"/>
        </createTable>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-8">
        <createTable tableName="ENVIRONMENTVARIABLES">
            <column autoIncrement="true" name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_E6"/>
            </column>
            <column name="ENTITYID" type="BIGINT"/>
            <column name="VARIABLENAME" type="VARCHAR(255)"/>
            <column name="VARIABLEVALUE" type="CLOB"/>
            <column name="ENTITYTYPE" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueBoolean="false" name="ISSECURE" type="BOOLEAN"/>
        </createTable>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-9">
        <createTable tableName="JOBAGENTMETADATA">
            <column autoIncrement="true" name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_25"/>
            </column>
            <column name="JOBID" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="ELASTICAGENTPROFILEMETADATA" type="CLOB">
                <constraints nullable="false"/>
            </column>
            <column name="METADATAVERSION" type="VARCHAR(50)"/>
            <column name="CLUSTERPROFILEMETADATA" type="CLOB"/>
        </createTable>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-10">
        <createTable tableName="MATERIALS">
            <column autoIncrement="true" name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_4"/>
            </column>
            <column name="TYPE" type="VARCHAR(255)"/>
            <column name="URL" type="CLOB"/>
            <column name="USERNAME" type="VARCHAR(255)"/>
            <column defaultValueBoolean="false" name="CHECKEXTERNALS" type="BOOLEAN"/>
            <column name="PIPELINENAME" type="VARCHAR(255)"/>
            <column name="STAGENAME" type="VARCHAR(255)"/>
            <column name="VIEW" type="CLOB"/>
            <column name="BRANCH" type="CLOB"/>
            <column name="SUBMODULEFOLDER" type="CLOB"/>
            <column name="USETICKETS" type="VARCHAR(10)"/>
            <column name="FINGERPRINT" type="CHAR(64)">
                <constraints nullable="false"/>
            </column>
            <column name="FLYWEIGHTNAME" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
            <column name="WORKSPACE" type="VARCHAR(255)"/>
            <column name="PROJECTPATH" type="VARCHAR(255)"/>
            <column name="DOMAIN" type="VARCHAR(255)"/>
            <column name="CONFIGURATION" type="CLOB"/>
            <column name="ADDITIONALDATA" type="CLOB"/>
        </createTable>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-11">
        <createTable tableName="MODIFICATIONS">
            <column autoIncrement="true" name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_C8"/>
            </column>
            <column name="TYPE" type="VARCHAR(255)"/>
            <column name="USERNAME" type="VARCHAR(255)"/>
            <column name="COMMENT" type="VARCHAR(2147483647)"/>
            <column name="EMAILADDRESS" type="VARCHAR(255)"/>
            <column name="REVISION" type="VARCHAR(1024)"/>
            <column name="MODIFIEDTIME" type="TIMESTAMP"/>
            <column defaultValueBoolean="false" name="FROMEXTERNAL" type="BOOLEAN"/>
            <column name="MATERIALID" type="BIGINT"/>
            <column name="PIPELINELABEL" type="VARCHAR(255)"/>
            <column name="PIPELINEID" type="BIGINT"/>
            <column name="ADDITIONALDATA" type="CLOB"/>
        </createTable>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-12">
        <createTable tableName="MODIFIEDFILES">
            <column autoIncrement="true" name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_3"/>
            </column>
            <column name="FILENAME" type="VARCHAR(1024)"/>
            <column name="REVISION" type="VARCHAR(50)"/>
            <column name="FOLDERNAME" type="VARCHAR(512)"/>
            <column name="ACTION" type="VARCHAR(50)"/>
            <column name="MODIFICATIONID" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-13">
        <createTable tableName="NOTIFICATIONFILTERS">
            <column autoIncrement="true" name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_5"/>
            </column>
            <column name="USERID" type="BIGINT"/>
            <column name="PIPELINE" type="VARCHAR(255)"/>
            <column name="STAGE" type="VARCHAR(255)"/>
            <column name="EVENT" type="VARCHAR(50)"/>
            <column name="MYCHECKIN" type="BOOLEAN"/>
        </createTable>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-14">
        <createTable tableName="PIPELINELABELCOUNTS">
            <column autoIncrement="true" name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_C7"/>
            </column>
            <column name="PIPELINENAME" type="VARCHAR(255)"/>
            <column name="LABELCOUNT" type="BIGINT"/>
            <column name="PAUSE_CAUSE" type="VARCHAR(255)"/>
            <column name="PAUSE_BY" type="VARCHAR(255)"/>
            <column defaultValueBoolean="false" name="PAUSED" type="BOOLEAN"/>
            <column name="CASEINSENSITIVEPIPELINENAME" type="VARCHAR_IGNORECASE(255)"/>
            <column name="PAUSED_AT" type="TIMESTAMP"/>
        </createTable>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-15">
        <createTable tableName="PIPELINEMATERIALREVISIONS">
            <column autoIncrement="true" name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_A2"/>
            </column>
            <column name="FOLDER" type="VARCHAR(255)"/>
            <column name="NAME" type="VARCHAR(255)"/>
            <column name="PIPELINEID" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="TOREVISIONID" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="FROMREVISIONID" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column defaultValueBoolean="false" name="CHANGED" type="BOOLEAN"/>
            <column name="MATERIALID" type="BIGINT"/>
            <column name="ACTUALFROMREVISIONID" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-16">
        <createTable tableName="PIPELINES">
            <column autoIncrement="true" name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_F"/>
            </column>
            <column name="NAME" type="VARCHAR_IGNORECASE(255)"/>
            <column name="BUILDCAUSETYPE" type="VARCHAR(255)"/>
            <column name="BUILDCAUSEBY" type="VARCHAR(255)"/>
            <column name="LABEL" type="VARCHAR(255)"/>
            <column name="BUILDCAUSEMESSAGE" type="VARCHAR(2147483647)"/>
            <column name="COUNTER" type="BIGINT"/>
            <column defaultValueNumeric="0.0" name="NATURALORDER" type="DOUBLE(17)">
                <constraints nullable="false"/>
            </column>
            <column name="COMMENT" type="CLOB"/>
        </createTable>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-17">
        <createTable tableName="PIPELINESELECTIONS">
            <column autoIncrement="true" name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_6"/>
            </column>
            <column name="SELECTIONS" type="VARCHAR(2147483647)"/>
            <column name="LASTUPDATE" type="TIMESTAMP"/>
            <column name="USERID" type="BIGINT"/>
            <column defaultValueBoolean="true" name="ISBLACKLIST" type="BOOLEAN"/>
            <column name="FILTERS" type="CLOB"/>
            <column defaultValueNumeric="0" name="VERSION" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-18">
        <createTable tableName="PIPELINESTATES">
            <column autoIncrement="true" name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_6A"/>
            </column>
            <column name="PIPELINENAME" type="VARCHAR_IGNORECASE(255)">
                <constraints nullable="false"/>
            </column>
            <column name="LOCKED" type="BOOLEAN"/>
            <column name="LOCKEDBYPIPELINEID" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-19">
        <createTable tableName="PLUGINS">
            <column autoIncrement="true" name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_E7"/>
            </column>
            <column name="PLUGINID" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="CONFIGURATION" type="CLOB"/>
        </createTable>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-20">
        <createTable tableName="RESOURCES">
            <column autoIncrement="true" name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_2"/>
            </column>
            <column name="NAME" type="VARCHAR(255)"/>
            <column name="BUILDID" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-21">
        <createTable tableName="SERVERBACKUPS">
            <column autoIncrement="true" name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_7B"/>
            </column>
            <column name="PATH" type="VARCHAR(2048)"/>
            <column name="TIME" type="TIMESTAMP"/>
            <column name="USERNAME" type="VARCHAR_IGNORECASE(255)"/>
            <column name="STATUS" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="MESSAGE" type="CLOB"/>
            <column name="PROGRESSSTATUS" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-22">
        <createTable tableName="STAGEARTIFACTCLEANUPPROHIBITED">
            <column autoIncrement="true" name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_8D"/>
            </column>
            <column name="STAGENAME" type="VARCHAR_IGNORECASE(255)">
                <constraints nullable="false"/>
            </column>
            <column name="PIPELINENAME" type="VARCHAR_IGNORECASE(255)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueBoolean="false" name="PROHIBITED" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-23">
        <createTable tableName="STAGES">
            <column autoIncrement="true" name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_9"/>
            </column>
            <column name="NAME" type="VARCHAR_IGNORECASE(255)"/>
            <column name="APPROVEDBY" type="VARCHAR(255)"/>
            <column name="PIPELINEID" type="BIGINT"/>
            <column name="CREATEDTIME" type="TIMESTAMP"/>
            <column name="ORDERID" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValue="Unknown" name="RESULT" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
            <column name="APPROVALTYPE" type="VARCHAR(255)"/>
            <column name="COUNTER" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="COMPLETEDBYTRANSITIONID" type="BIGINT"/>
            <column defaultValue="Unknown" name="STATE" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueBoolean="false" name="LATESTRUN" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column defaultValueBoolean="true" name="FETCHMATERIALS" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column defaultValueBoolean="false" name="CLEANWORKINGDIR" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column name="RERUNOFCOUNTER" type="INT"/>
            <column defaultValueBoolean="false" name="ARTIFACTSDELETED" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column name="CONFIGVERSION" type="VARCHAR(255)"/>
            <column name="LASTTRANSITIONEDTIME" type="TIMESTAMP"/>
            <column name="CANCELLEDBY" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-24">
        <createTable tableName="USAGEDATAREPORTING">
            <column autoIncrement="true" name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_3F"/>
            </column>
            <column name="SERVERID" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="LASTREPORTEDAT" type="TIMESTAMP"/>
        </createTable>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-25">
        <createTable tableName="USERS">
            <column autoIncrement="true" name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_A"/>
            </column>
            <column name="NAME" type="VARCHAR_IGNORECASE(255)">
                <constraints nullable="false"/>
            </column>
            <column name="EMAIL" type="VARCHAR(255)"/>
            <column name="MATCHER" type="VARCHAR(255)"/>
            <column defaultValueBoolean="false" name="EMAILME" type="BOOLEAN"/>
            <column defaultValueBoolean="true" name="ENABLED" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column name="DISPLAYNAME" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-26">
        <createTable tableName="VERSIONINFOS">
            <column autoIncrement="true" name="ID" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_848"/>
            </column>
            <column name="COMPONENTNAME" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="INSTALLEDVERSION" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="LATESTVERSION" type="VARCHAR(50)"/>
            <column name="LATESTVERSIONUPDATEDAT" type="TIMESTAMP"/>
        </createTable>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-27">
        <addUniqueConstraint columnNames="JOBID" constraintName="CONSTRAINT_25E" tableName="JOBAGENTMETADATA"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-28">
        <addUniqueConstraint columnNames="VALUE" constraintName="CONSTRAINT_43F" tableName="ACCESSTOKEN"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-29">
        <addUniqueConstraint columnNames="SALTID" constraintName="CONSTRAINT_43F0" tableName="ACCESSTOKEN"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-30">
        <addUniqueConstraint columnNames="SALTVALUE" constraintName="CONSTRAINT_43F05" tableName="ACCESSTOKEN"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-31">
        <addUniqueConstraint columnNames="UUID" constraintName="CONSTRAINT_72F" tableName="AGENTS"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-32">
        <addUniqueConstraint columnNames="COOKIE" constraintName="CONSTRAINT_72F4" tableName="AGENTS"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-33">
        <addUniqueConstraint columnNames="COMPONENTNAME" constraintName="CONSTRAINT_848D" tableName="VERSIONINFOS"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-34">
        <addUniqueConstraint columnNames="PLUGINID" constraintName="CONSTRAINT_E72" tableName="PLUGINS"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-35">
        <addUniqueConstraint columnNames="FLYWEIGHTNAME" constraintName="MATERIALS_FLYWEIGHTNAME_UNIQUE" tableName="MATERIALS"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-36">
        <addUniqueConstraint columnNames="FINGERPRINT" constraintName="UNIQUE_FINGERPRINT" tableName="MATERIALS"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-37">
        <addUniqueConstraint columnNames="NAME" constraintName="UNIQUE_NAME" tableName="USERS"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-38">
        <addUniqueConstraint columnNames="PIPELINEID, NAME, COUNTER" constraintName="UNIQUE_PIPELINE_ID_NAME_COUNTER" tableName="STAGES"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-39">
        <addUniqueConstraint columnNames="PIPELINENAME" constraintName="UNIQUE_PIPELINE_NAME" tableName="PIPELINELABELCOUNTS"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-40">
        <addUniqueConstraint columnNames="PIPELINENAME" constraintName="UNIQUE_PIPELINE_STATE" tableName="PIPELINESTATES"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-41">
        <createIndex indexName="FK_BUILDSTATETRANSITIONS_BUILDS_INDEX_5" tableName="BUILDSTATETRANSITIONS">
            <column name="BUILDID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-42">
        <createIndex indexName="FK_BUILDTRANSITIONS_STAGES_INDEX_F" tableName="BUILDSTATETRANSITIONS">
            <column name="STAGEID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-43">
        <createIndex indexName="FK_MODIFICATIONS_PIPELINEID_INDEX_E" tableName="MODIFICATIONS">
            <column name="PIPELINEID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-44">
        <createIndex indexName="FK_MODIFIEDFILES_MODIFICATIONS_INDEX_3" tableName="MODIFIEDFILES">
            <column name="MODIFICATIONID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-45">
        <createIndex indexName="FK_NOTIFICATIONFILTERS_USERS_INDEX_5" tableName="NOTIFICATIONFILTERS">
            <column name="USERID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-46">
        <createIndex indexName="FK_PIPELINESELECTIONS_USERID_INDEX_9" tableName="PIPELINESELECTIONS">
            <column name="USERID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-47">
        <createIndex indexName="FK_PMR_ACTUALFROMREVISIONID_INDEX_2" tableName="PIPELINEMATERIALREVISIONS">
            <column name="ACTUALFROMREVISIONID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-48">
        <createIndex indexName="FK_PMR_FROM_REVISION_INDEX_2" tableName="PIPELINEMATERIALREVISIONS">
            <column name="FROMREVISIONID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-49">
        <createIndex indexName="FK_PMR_MATERIALID_INDEX_2" tableName="PIPELINEMATERIALREVISIONS">
            <column name="MATERIALID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-50">
        <createIndex indexName="FK_PMR_TO_REVISION_INDEX_2" tableName="PIPELINEMATERIALREVISIONS">
            <column name="TOREVISIONID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-51">
        <createIndex indexName="FK_RESOURCES_BUILDS_INDEX_2" tableName="RESOURCES">
            <column name="BUILDID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-52">
        <createIndex indexName="IDX_ARTIFACTPLAN_BUILD_ID" tableName="ARTIFACTPLANS">
            <column name="BUILDID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-53">
        <createIndex indexName="IDX_BST_BUILDID_CURRENTSTATE" tableName="BUILDSTATETRANSITIONS">
            <column name="BUILDID"/>
            <column name="CURRENTSTATE"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-54">
        <createIndex indexName="IDX_BUILDS_AGENTID_STAGEID_NAME" tableName="BUILDS">
            <column name="NAME"/>
            <column name="AGENTUUID"/>
            <column name="STAGEID"/>
            <column name="STATE"/>
            <column name="RESULT"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-55">
        <createIndex indexName="IDX_BUILDS_NAME_STAGE_ID" tableName="BUILDS">
            <column name="NAME"/>
            <column name="STAGEID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-56">
        <createIndex indexName="IDX_BUILDS_NAME_STATE_STAGEID" tableName="BUILDS">
            <column name="NAME"/>
            <column name="STATE"/>
            <column name="STAGEID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-57">
        <createIndex indexName="IDX_BUILDS_STAGEID" tableName="BUILDS">
            <column name="STAGEID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-58">
        <createIndex indexName="IDX_BUILD_AGENT" tableName="BUILDS">
            <column name="AGENTUUID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-59">
        <createIndex indexName="IDX_BUILD_IGNORED" tableName="BUILDS">
            <column defaultValueBoolean="false" name="IGNORED"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-60">
        <createIndex indexName="IDX_BUILD_NAME" tableName="BUILDS">
            <column name="NAME"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-61">
        <createIndex indexName="IDX_BUILD_RESULT" tableName="BUILDS">
            <column name="RESULT"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-62">
        <createIndex indexName="IDX_BUILD_STATE" tableName="BUILDS">
            <column name="STATE"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-63">
        <createIndex indexName="IDX_ENVIRONMENTVARIABLES_ENTITYTYPE" tableName="ENVIRONMENTVARIABLES">
            <column name="ENTITYTYPE"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-64">
        <createIndex indexName="IDX_ENV_JOB_ID" tableName="ENVIRONMENTVARIABLES">
            <column name="ENTITYID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-65">
        <createIndex indexName="IDX_MATERIALS_PIPELINENAME" tableName="MATERIALS">
            <column name="PIPELINENAME"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-66">
        <createIndex indexName="IDX_MODIFICATIONS_MATERIALID_ID" tableName="MODIFICATIONS">
            <column name="MATERIALID"/>
            <column name="ID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-67">
        <createIndex indexName="IDX_MODIFICATIONS_MODIFIEDTIME" tableName="MODIFICATIONS">
            <column name="MODIFIEDTIME"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-68">
        <createIndex indexName="IDX_MODIFICATIONS_REVISION" tableName="MODIFICATIONS">
            <column name="REVISION"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-69">
        <createIndex indexName="IDX_MOD_NEW_MATERIAL_ID" tableName="MODIFICATIONS">
            <column name="MATERIALID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-70">
        <createIndex indexName="IDX_PIPELINELABELCOUNTS_CASEINSENSITIVEPIPELINENAME" tableName="PIPELINELABELCOUNTS">
            <column name="CASEINSENSITIVEPIPELINENAME"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-71">
        <createIndex indexName="IDX_PIPELINES_NAME_COUNTER" tableName="PIPELINES">
            <column name="NAME"/>
            <column name="COUNTER"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-72">
        <createIndex indexName="IDX_PIPELINE_LABEL" tableName="PIPELINES">
            <column name="LABEL"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-73">
        <createIndex indexName="IDX_PIPELINE_NAME" tableName="PIPELINES">
            <column name="NAME"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-74">
        <createIndex indexName="IDX_PIPELINE_NAME_ID" tableName="PIPELINES">
            <column name="NAME"/>
            <column name="ID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-75">
        <createIndex indexName="IDX_PMR_PIPELINE_ID" tableName="PIPELINEMATERIALREVISIONS">
            <column name="PIPELINEID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-76">
        <createIndex indexName="IDX_STAGEARTIFACTCLEANUPPROHIBITED_PIPELINENAME" tableName="STAGEARTIFACTCLEANUPPROHIBITED">
            <column name="PIPELINENAME"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-77">
        <createIndex indexName="IDX_STAGES_COMPLETEDBYTRANSITIONID" tableName="STAGES">
            <column descending="true" name="COMPLETEDBYTRANSITIONID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-78">
        <createIndex indexName="IDX_STAGES_COUNTER_INDEX" tableName="STAGES">
            <column name="COUNTER"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-79">
        <createIndex indexName="IDX_STAGES_NAME_LATESTRUN_RESULT" tableName="STAGES">
            <column name="NAME"/>
            <column defaultValueBoolean="false" name="LATESTRUN"/>
            <column name="RESULT"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-80">
        <createIndex indexName="IDX_STAGES_NAME_PIPELINEID" tableName="STAGES">
            <column name="NAME"/>
            <column name="PIPELINEID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-81">
        <createIndex indexName="IDX_STAGES_ORDERID" tableName="STAGES">
            <column name="ORDERID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-82">
        <createIndex indexName="IDX_STAGES_PIPELINEID" tableName="STAGES">
            <column name="PIPELINEID"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-83">
        <createIndex indexName="IDX_STAGES_STATE" tableName="STAGES">
            <column name="STATE"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-84">
        <createIndex indexName="IDX_STAGE_NAME" tableName="STAGES">
            <column name="NAME"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-85">
        <createIndex indexName="IDX_STATE_TRANSITION" tableName="BUILDSTATETRANSITIONS">
            <column name="CURRENTSTATE"/>
        </createIndex>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-86">
        <addForeignKeyConstraint baseColumnNames="BUILDID" baseTableName="ARTIFACTPLANS" constraintName="FK_ARTIFACTPLANS_BUILDS" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="BUILDS" validate="true"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-87">
        <addForeignKeyConstraint baseColumnNames="BUILDID" baseTableName="BUILDSTATETRANSITIONS" constraintName="FK_BUILDSTATETRANSITIONS_BUILDS" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="BUILDS" validate="true"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-88">
        <addForeignKeyConstraint baseColumnNames="STAGEID" baseTableName="BUILDS" constraintName="FK_BUILDS_STAGES" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="STAGES" validate="true"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-89">
        <addForeignKeyConstraint baseColumnNames="STAGEID" baseTableName="BUILDSTATETRANSITIONS" constraintName="FK_BUILDTRANSITIONS_STAGES" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="STAGES" validate="true"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-90">
        <addForeignKeyConstraint baseColumnNames="JOBID" baseTableName="JOBAGENTMETADATA" constraintName="FK_JOBAGENTMETADATA_JOBS" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="BUILDS" validate="true"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-91">
        <addForeignKeyConstraint baseColumnNames="PIPELINEID" baseTableName="MODIFICATIONS" constraintName="FK_MODIFICATIONS_PIPELINEID" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="PIPELINES" validate="true"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-92">
        <addForeignKeyConstraint baseColumnNames="MODIFICATIONID" baseTableName="MODIFIEDFILES" constraintName="FK_MODIFIEDFILES_MODIFICATIONS" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="MODIFICATIONS" validate="true"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-93">
        <addForeignKeyConstraint baseColumnNames="USERID" baseTableName="NOTIFICATIONFILTERS" constraintName="FK_NOTIFICATIONFILTERS_USERS" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="USERS" validate="true"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-94">
        <addForeignKeyConstraint baseColumnNames="USERID" baseTableName="PIPELINESELECTIONS" constraintName="FK_PIPELINESELECTIONS_USERID" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="USERS" validate="true"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-95">
        <addForeignKeyConstraint baseColumnNames="ACTUALFROMREVISIONID" baseTableName="PIPELINEMATERIALREVISIONS" constraintName="FK_PMR_ACTUALFROMREVISIONID" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="MODIFICATIONS" validate="true"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-96">
        <addForeignKeyConstraint baseColumnNames="FROMREVISIONID" baseTableName="PIPELINEMATERIALREVISIONS" constraintName="FK_PMR_FROM_REVISION" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="MODIFICATIONS" validate="true"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-97">
        <addForeignKeyConstraint baseColumnNames="MATERIALID" baseTableName="PIPELINEMATERIALREVISIONS" constraintName="FK_PMR_MATERIALID" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="MATERIALS" validate="true"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-98">
        <addForeignKeyConstraint baseColumnNames="PIPELINEID" baseTableName="PIPELINEMATERIALREVISIONS" constraintName="FK_PMR_PIPELINE" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="PIPELINES" validate="true"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-99">
        <addForeignKeyConstraint baseColumnNames="TOREVISIONID" baseTableName="PIPELINEMATERIALREVISIONS" constraintName="FK_PMR_TO_REVISION" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="MODIFICATIONS" validate="true"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-100">
        <addForeignKeyConstraint baseColumnNames="BUILDID" baseTableName="RESOURCES" constraintName="FK_RESOURCES_BUILDS" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="BUILDS" validate="true"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-101">
        <addForeignKeyConstraint baseColumnNames="PIPELINEID" baseTableName="STAGES" constraintName="FK_STAGES_PIPELINES" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="PIPELINES" validate="true"/>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-102">
        <createView fullDefinition="false" remarks="" viewName="_BUILDS">SELECT
    "B"."ID",
    "B"."NAME",
    "B"."STATE",
    "B"."RESULT",
    "B"."AGENTUUID",
    "B"."SCHEDULEDDATE",
    "B"."STAGEID",
    "B"."IGNORED",
    "B"."RUNONALLAGENTS",
    "B"."ORIGINALJOBID",
    "B"."RERUN",
    "B"."RUNMULTIPLEINSTANCE",
    "P"."ID" AS "PIPELINEID",
    "P"."NAME" AS "PIPELINENAME",
    "P"."LABEL" AS "PIPELINELABEL",
    "P"."COUNTER" AS "PIPELINECOUNTER",
    "S"."NAME" AS "STAGENAME",
    "S"."COUNTER" AS "STAGECOUNTER",
    "S"."FETCHMATERIALS",
    "S"."CLEANWORKINGDIR",
    "S"."RERUNOFCOUNTER"
FROM "PUBLIC"."BUILDS" "B"
INNER JOIN "PUBLIC"."STAGES" "S"
    ON 1=1
INNER JOIN "PUBLIC"."PIPELINES" "P"
    ON 1=1
WHERE ("P"."ID" = "S"."PIPELINEID")
    AND ("S"."ID" = "B"."STAGEID")</createView>
    </changeSet>
    <changeSet author="gocd(generated)" id="1589178032877-103">
        <createView fullDefinition="false" remarks="" viewName="_STAGES">SELECT
    "S"."ID",
    "S"."NAME",
    "S"."APPROVEDBY",
    "S"."PIPELINEID",
    "S"."CREATEDTIME",
    "S"."ORDERID",
    "S"."RESULT",
    "S"."APPROVALTYPE",
    "S"."COUNTER",
    "S"."COMPLETEDBYTRANSITIONID",
    "S"."STATE",
    "S"."LATESTRUN",
    "S"."FETCHMATERIALS",
    "S"."CLEANWORKINGDIR",
    "S"."RERUNOFCOUNTER",
    "S"."ARTIFACTSDELETED",
    "S"."CONFIGVERSION",
    "S"."LASTTRANSITIONEDTIME",
    "P"."NAME" AS "PIPELINENAME",
    "P"."BUILDCAUSETYPE",
    "P"."BUILDCAUSEBY",
    "P"."LABEL" AS "PIPELINELABEL",
    "P"."BUILDCAUSEMESSAGE",
    "P"."COUNTER" AS "PIPELINECOUNTER",
    "PS"."LOCKED",
    "P"."NATURALORDER"
FROM "PUBLIC"."STAGES" "S"
INNER JOIN "PUBLIC"."PIPELINES" "P"
    ON 1=1
LEFT OUTER JOIN "PUBLIC"."PIPELINESTATES" "PS"
    ON "PS"."LOCKEDBYPIPELINEID" = "S"."PIPELINEID"
WHERE "P"."ID" = "S"."PIPELINEID"</createView>
    </changeSet>
</databaseChangeLog>
